(function(){var app;app=angular.module("narwhal",["ionic","narwhal.login","narwhal.report","narwhal.recurring","ui.router"]),app.run(function($ionicPlatform,$rootScope){return $ionicPlatform.ready(function(){return console.log("Ready!"),window.cordova&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar?StatusBar.styleDefault():void 0}),$rootScope.$on("$stateChangeStart",function(event,toState){return console.log("Changed route to "+toState.url),console.log("Changed route to "+toState.name)}),$rootScope.$on("$stateChangeError",function(event,toState,toParams,fromState,fromParams,error){return console.error("Could not change state"),console.error(error)}),$rootScope.$on("$stateChangeSuccess",function(){return console.log("Successfuly changed state")})}),app.config(function($stateProvider,$urlRouterProvider){$stateProvider.state("index",{url:"/",controller:"IndexController",templateUrl:"templates/index.html"}),$urlRouterProvider.otherwise("/")})}).call(this),function(){var slice=[].slice;this.BaseController=function(){function BaseController(){var args,fn,i,index,key,len,ref,ref1;for(args=1<=arguments.length?slice.call(arguments,0):[],ref=this.constructor.$inject,index=i=0,len=ref.length;len>i;index=++i)key=ref[index],this[key]=args[index];ref1=this.constructor.prototype;for(key in ref1)fn=ref1[key],"function"==typeof fn&&"constructor"!==key&&"initialize"!==key&&"_"!==key[0]&&(this.$scope[key]=("function"==typeof fn.bind?fn.bind(this):void 0)||_.bind(fn,this));"function"==typeof this.initialize&&this.initialize()}return BaseController.register=function(app,name){var ref;return null==name&&(name=this.name||(null!=(ref=this.toString().match(/function\s*(.*?)\(/))?ref[1]:void 0)),app.controller(name,this)},BaseController.inject=function(){var args;return args=1<=arguments.length?slice.call(arguments,0):[],this.$inject=args},BaseController}()}.call(this),function(){var app;app=angular.module("narwhal"),app.factory("User",["$http",function($http){var User;return new(User=function(){function User(){}return User.prototype.login=function(username,password){var request;return request=$http.post("https://nameless-scrubland-4785.herokuapp.com/v1/session/",{email:username,password:password})},User}())}])}.call(this),function(){var loginModule;loginModule=angular.module("narwhal.login",[]),loginModule.config(function($stateProvider){return $stateProvider.state("login",{url:"/login/",templateUrl:"templates/login.html",controller:"LoginController"})})}.call(this),function(){var recurringModule;recurringModule=angular.module("narwhal.recurring",[]),recurringModule.config(function($stateProvider){return $stateProvider.state("recurring",{url:"/recurring/",templateUrl:"templates/recurring.html",controller:"RecurringController",resolve:{currentTransaction:["$rootScope",function($rootScope){return $rootScope.currentTransaction}]}})})}.call(this),function(){var reportModule;reportModule=angular.module("narwhal.report",[]),reportModule.config(function($stateProvider){return $stateProvider.state("report",{url:"/report/",templateUrl:"templates/report.html",controller:"ReportController"})})}.call(this),function(){var IndexController,app,bind=function(fn,me){return function(){return fn.apply(me,arguments)}},extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;app=angular.module("narwhal"),IndexController=function(superClass){function IndexController(){return this.getRandomAmount=bind(this.getRandomAmount,this),this.loadTransactions=bind(this.loadTransactions,this),this.initialize=bind(this.initialize,this),IndexController.__super__.constructor.apply(this,arguments)}return extend(IndexController,superClass),IndexController.register(app),IndexController.inject("$scope","$http","$state","$rootScope"),IndexController.prototype.initialize=function(){return this.$scope.transactions=[],this.loadTransactions()},IndexController.prototype.logout=function(){return this.$state.go("login")},IndexController.prototype.refresh=function(){return this.loadTransactions(),this.$scope.$broadcast("scroll.refreshComplete"),setTimeout(Mi.motion.fadeSlideInRight({selector:".animate-fade-slide-in-right > *"}),10)},IndexController.prototype.loadTransactions=function(){return this.$scope.transactions=[{name:"Arbys",amount:this.getRandomAmount()},{name:"Au Bon Pain",amount:this.getRandomAmount()},{name:"Buffalo Wild Wings",amount:this.getRandomAmount()},{name:"Burger King",amount:this.getRandomAmount()},{name:"Carls Jr.",amount:this.getRandomAmount()},{name:"Dairy Queen",amount:this.getRandomAmount()},{name:"Dominos Pizza",amount:this.getRandomAmount()},{name:"Dunkin Donuts",amount:this.getRandomAmount()},{name:"Hardees",amount:this.getRandomAmount()},{name:"KFC",amount:this.getRandomAmount()},{name:"Little Caesars",amount:this.getRandomAmount()},{name:"Long John Silvers",amount:this.getRandomAmount()},{name:"McCaf√©",amount:this.getRandomAmount()},{name:"McDonalds",amount:this.getRandomAmount()},{name:"Nandos",amount:this.getRandomAmount()},{name:"Pizza Hut",amount:this.getRandomAmount()},{name:"Round Table Pizza",amount:this.getRandomAmount()},{name:"Sonic Drive-In",amount:this.getRandomAmount()},{name:"Starbucks",amount:this.getRandomAmount()},{name:"Subway",amount:this.getRandomAmount()},{name:"TCBY",amount:this.getRandomAmount()},{name:"Tim Hortons",amount:this.getRandomAmount()},{name:"Taco Bell",amount:this.getRandomAmount()},{name:"Wendys",amount:this.getRandomAmount()},{name:"Wendys Supa Sundaes",amount:this.getRandomAmount()},{name:"Whataburger",amount:this.getRandomAmount()},{name:"White Castle",amount:this.getRandomAmount()},{name:"Wingstop",amount:this.getRandomAmount()},{name:"WingStree",amount:this.getRandomAmount()}]},IndexController.prototype.getRandomAmount=function(){return Math.floor(5e3*Math.random())/100},IndexController.prototype.showTransaction=function(transaction){return this.$rootScope.currentTransaction=transaction,this.$state.go("recurring")},IndexController}(BaseController)}.call(this),function(){var LoginController,loginModule,bind=function(fn,me){return function(){return fn.apply(me,arguments)}},extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;loginModule=angular.module("narwhal.login"),LoginController=function(superClass){function LoginController(){return this.initialize=bind(this.initialize,this),this.login=bind(this.login,this),LoginController.__super__.constructor.apply(this,arguments)}return extend(LoginController,superClass),LoginController.register(loginModule),LoginController.inject("$scope","$http","$state","User"),LoginController.prototype.login=function(){return this.$scope.isLoading=!0,this.User.login(this.$scope.username,this.$scope.password).then(function(_this){return function(){return _this.$scope.isLoading=!1,_this.$state.go("index")}}(this))},LoginController.prototype.initialize=function(){return this.$scope.username="",this.$scope.password=""},LoginController}(BaseController)}.call(this),function(){angular.module("narwhal.login").directive("ionMdInput",function(){return{restrict:"E",replace:!0,require:"?ngModel",template:'<label class="item item-input item-md-label"><input type="text"><span class="input-label"></span><div class="highlight"></div></label>',compile:function(element,attr){var cleanUp,highlight,highlightColor,input,label;highlight=element[0].querySelector(".highlight"),highlightColor=void 0,highlightColor=attr.highlightColor?attr.highlightColor:"calm",highlight.className+=" highlight-"+highlightColor,label=element.find("span"),label.html(attr.placeholder),input=element.find("input"),input.bind("blur",function(){console.log("blur"),input.val()?input.addClass("used"):input.removeClass("used")}),angular.forEach({name:attr.name,type:attr.type,"ng-value":attr.ngValue,"ng-model":attr.ngModel,required:attr.required,"ng-required":attr.ngRequired,"ng-minlength":attr.ngMinlength,"ng-maxlength":attr.ngMaxlength,"ng-pattern":attr.ngPattern,"ng-change":attr.ngChange,"ng-trim":attr.trim,"ng-blur":attr.ngBlur,"ng-focus":attr.ngFocus},function(value,name){angular.isDefined(value)&&input.attr(name,value)}),cleanUp=function(){ionic.off("$destroy",cleanUp,element[0])},ionic.on("$destroy",cleanUp,element[0])}}})}.call(this),function(){var RecurringController,recurringModule,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;recurringModule=angular.module("narwhal.recurring"),RecurringController=function(superClass){function RecurringController(){return RecurringController.__super__.constructor.apply(this,arguments)}return extend(RecurringController,superClass),RecurringController.register(recurringModule),RecurringController.inject("$scope","$http","$scope","$stateParams","currentTransaction"),RecurringController.prototype.initialize=function(){return this.$scope.hello="World",this.$scope.transaction=this.currentTransaction,Mi.motion.slideUp({selector:".slide-up"})},RecurringController}(BaseController)}.call(this),function(){var ReportController,reportModule,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;reportModule=angular.module("narwhal.report"),ReportController=function(superClass){function ReportController(){return ReportController.__super__.constructor.apply(this,arguments)}return extend(ReportController,superClass),ReportController.register(reportModule),ReportController.inject("$scope"),ReportController.prototype.initialize=function(){return this.$scope.reports=[{name:"MyReport"}],setTimeout(function(){return Mi.motion.blindsDown({selector:".card"})},500)},ReportController}(BaseController)}.call(this);var Mi=Mi||{};Mi=function(){"use strict";function getViewportHeight(){return window.innerHeight}function blindsDown(options){var defaults={finishDelayThrottle:2,finishSpeedPercent:.5,leftOffsetPercentage:.8,startVelocity:1100};"undefined"==typeof options&&(options={}),options.finishDelayThrottle=options.finishDelayThrottle||defaults.finishDelayThrottle,options.finishSpeedPercent=options.finishSpeedPercent||defaults.finishSpeedPercent,options.leftOffsetPercentage=options.leftOffsetPercentage||defaults.leftOffsetPercentage,options.startVelocity=options.startVelocity||defaults.startVelocity;var isInvalidSelector="undefined"==typeof options.selector||""===options.selector;if(isInvalidSelector)return console.log("invalid blindsDown selector"),!1;for(var animateBlindsDom=document.querySelectorAll(options.selector),elementAnimationCount=0,viewportHeight=getViewportHeight(),i=0;i<animateBlindsDom.length&&animateBlindsDom[i].offsetTop<viewportHeight;i++)elementAnimationCount+=1;for(var speed=options.startVelocity,i=0;elementAnimationCount>i;i++){var child=animateBlindsDom[i],childOffset=child.getBoundingClientRect(),offset=childOffset.left*options.leftOffsetPercentage+childOffset.top,delay=parseFloat(offset/speed).toFixed(2);child.style.webkitTransitionDelay=delay+"s",child.style.transitionDelay=delay+"s",child.className+=" in"}setTimeout(function(){for(var i=0;elementAnimationCount>i;i++){var child=animateBlindsDom[i],childOffset=child.getBoundingClientRect(),offset=childOffset.left*options.leftOffsetPercentage+childOffset.top,delay=parseFloat(offset/speed/options.finishDelayThrottle).toFixed(2);child.querySelector("img").style.webkitTransitionDelay=delay+"s",child.querySelector("img").style.transitionDelay=delay+"s",animateBlindsDom[i].parentNode.className+=" done"}},speed*options.finishSpeedPercent)}function fadeSlideIn(options){var defaults={finishDelayThrottle:2,finishSpeedPercent:.72,leftOffsetPercentage:.8,startVelocity:1100};"undefined"==typeof options&&(options={}),options.finishDelayThrottle=options.finishDelayThrottle||defaults.finishDelayThrottle,options.finishSpeedPercent=options.finishSpeedPercent||defaults.finishSpeedPercent,options.leftOffsetPercentage=options.leftOffsetPercentage||defaults.leftOffsetPercentage,options.startVelocity=options.startVelocity||defaults.startVelocity;var isInvalidSelector="undefined"==typeof options.selector||""===options.selector;if(isInvalidSelector)return console.log("invalid fadeSlideIn selector"),!1;for(var animateFadeSlideInDom=document.querySelectorAll(options.selector),elementAnimationCount=0,viewportHeight=getViewportHeight(),i=0;i<animateFadeSlideInDom.length&&animateFadeSlideInDom[i].offsetTop<viewportHeight;i++)elementAnimationCount+=1;for(var speed=options.startVelocity,i=0;elementAnimationCount>i;i++){var child=animateFadeSlideInDom[i],childOffset=child.getBoundingClientRect(),offset=childOffset.left*options.leftOffsetPercentage+childOffset.top,delay=parseFloat(offset/speed).toFixed(2);child.style.webkitTransitionDelay=delay+"s",child.style.transitionDelay=delay+"s",child.className+=" in"}setTimeout(function(){for(var i=0;elementAnimationCount>i;i++){{var child=animateFadeSlideInDom[i],childOffset=child.getBoundingClientRect(),offset=childOffset.left*options.leftOffsetPercentage+childOffset.top,delayValue=offset/speed/options.finishDelayThrottle;parseFloat(delayValue).toFixed(2)}animateFadeSlideInDom[i].className+=" done"}},speed*options.finishSpeedPercent)}function fadeSlideInRight(options){var defaults={finishDelayThrottle:2,finishSpeedPercent:.72,leftOffsetPercentage:.8,startVelocity:1100};"undefined"==typeof options&&(options={}),options.finishDelayThrottle=options.finishDelayThrottle||defaults.finishDelayThrottle,options.finishSpeedPercent=options.finishSpeedPercent||defaults.finishSpeedPercent,options.leftOffsetPercentage=options.leftOffsetPercentage||defaults.leftOffsetPercentage,options.startVelocity=options.startVelocity||defaults.startVelocity;var isInvalidSelector="undefined"==typeof options.selector||""===options.selector;if(isInvalidSelector)return console.log("invalid fadeSlideInRight selector"),!1;for(var animateSlideInRightDom=document.querySelectorAll(options.selector),elementAnimationCount=0,viewportHeight=getViewportHeight(),i=0;i<animateSlideInRightDom.length&&animateSlideInRightDom[i].offsetTop<viewportHeight;i++)elementAnimationCount+=1;for(var speed=options.startVelocity,i=0;elementAnimationCount>i;i++){var child=animateSlideInRightDom[i],childOffset=child.getBoundingClientRect(),offset=childOffset.left*options.leftOffsetPercentage+childOffset.top,delay=parseFloat(offset/speed).toFixed(2);child.style.webkitTransitionDelay=delay+"s",child.style.transitionDelay=delay+"s",child.className+=" in"}setTimeout(function(){for(var i=0;elementAnimationCount>i;i++){var child=animateSlideInRightDom[i],childOffset=child.getBoundingClientRect(),offset=childOffset.left*options.leftOffsetPercentage+childOffset.top,delayValue=offset/speed/options.finishDelayThrottle;parseFloat(delayValue).toFixed(2)}animateSlideInRightDom.item(0).parentNode.className+=" done"},speed*options.finishSpeedPercent)}function panInLeft(options){"string"==typeof options&&(options={selector:options});var isInvalidSelector="undefined"==typeof options.selector||""===options.selector;if(isInvalidSelector)return console.log("invalid pushDown selector"),!1;for(var animatePanInLeftDom=document.querySelectorAll(options.selector),elementAnimationCount=animatePanInLeftDom.length,i=0;elementAnimationCount>i;i++){var element=animatePanInLeftDom[i],classNameToRemove="animate-pan-in-left",indexOfClassNameToRemove=element.className.lastIndexOf(classNameToRemove);element.className=element.className.substr(0,indexOfClassNameToRemove)}}function pushDown(options){"string"==typeof options&&(options={selector:options});var isInvalidSelector="undefined"==typeof options.selector||""===options.selector;if(isInvalidSelector)return console.log("invalid pushDown selector"),!1;for(var animatePushDownDom=document.querySelectorAll(options.selector),elementAnimationCount=animatePushDownDom.length,i=0;elementAnimationCount>i;i++){var element=animatePushDownDom[i],classNameToRemove=options.selector.split(".")[1],indexOfClassNameToRemove=element.className.lastIndexOf(classNameToRemove);element.className=element.className.substr(0,indexOfClassNameToRemove)}}function slideUp(options){"string"==typeof options&&(options={selector:options});var isInvalidSelector="undefined"==typeof options.selector||""===options.selector;if(isInvalidSelector)return console.log("invalid pushDown selector"),!1;for(var animateSlideUpDom=document.querySelectorAll(options.selector),elementAnimationCount=animateSlideUpDom.length,i=0;elementAnimationCount>i;i++){var element=animateSlideUpDom[i],classNameToRemove=options.selector.split(".")[1],indexOfClassNameToRemove=element.className.lastIndexOf(classNameToRemove);element.className=element.className.substr(0,indexOfClassNameToRemove)}}var version="0.0.1",motion={blindsDown:blindsDown,fadeSlideIn:fadeSlideIn,fadeSlideInRight:fadeSlideInRight,panInLeft:panInLeft,pushDown:pushDown,slideUp:slideUp};return{motion:motion,version:version}}(),function(window){"use strict";function isWindow(obj){return null!==obj&&obj===obj.window}function getWindow(elem){return isWindow(elem)?elem:9===elem.nodeType&&elem.defaultView}function offset(elem){var docElem,win,box={top:0,left:0},doc=elem&&elem.ownerDocument;return docElem=doc.documentElement,"undefined"!=typeof elem.getBoundingClientRect&&(box=elem.getBoundingClientRect()),win=getWindow(doc),{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}}function convertStyle(obj){var style="";for(var a in obj)obj.hasOwnProperty(a)&&(style+=a+":"+obj[a]+";");return style}function getWavesEffectElement(e){if(TouchHandler.allowEvent(e)===!1)return null;for(var element=null,target=e.target||e.srcElement;null!==target.parentElement;){if(!(target instanceof SVGElement||-1===target.className.indexOf("waves-effect"))){element=target;break}if(target.classList.contains("waves-effect")){element=target;break}target=target.parentElement}return element}function showEffect(e){var element=getWavesEffectElement(e);null!==element&&(Effect.show(e,element),"ontouchstart"in window&&(element.addEventListener("touchend",Effect.hide,!1),element.addEventListener("touchcancel",Effect.hide,!1)),element.addEventListener("mouseup",Effect.hide,!1),element.addEventListener("mouseleave",Effect.hide,!1))}var Waves=Waves||{},$$=document.querySelectorAll.bind(document),Effect={duration:750,show:function(e,element){if(2===e.button)return!1;var el=element||this,ripple=document.createElement("div");ripple.className="waves-ripple",el.appendChild(ripple);var pos=offset(el),relativeY=e.pageY-pos.top,relativeX=e.pageX-pos.left,scale="scale("+el.clientWidth/100*3+")";"touches"in e&&(relativeY=e.touches[0].pageY-pos.top,relativeX=e.touches[0].pageX-pos.left),ripple.setAttribute("data-hold",Date.now()),ripple.setAttribute("data-scale",scale),ripple.setAttribute("data-x",relativeX),ripple.setAttribute("data-y",relativeY);var rippleStyle={top:relativeY+"px",left:relativeX+"px"};ripple.className=ripple.className+" waves-notransition",ripple.setAttribute("style",convertStyle(rippleStyle)),ripple.className=ripple.className.replace("waves-notransition",""),rippleStyle["-webkit-transform"]=scale,rippleStyle["-moz-transform"]=scale,rippleStyle["-ms-transform"]=scale,rippleStyle["-o-transform"]=scale,rippleStyle.transform=scale,rippleStyle.opacity="1",rippleStyle["-webkit-transition-duration"]=Effect.duration+"ms",rippleStyle["-moz-transition-duration"]=Effect.duration+"ms",rippleStyle["-o-transition-duration"]=Effect.duration+"ms",rippleStyle["transition-duration"]=Effect.duration+"ms",ripple.setAttribute("style",convertStyle(rippleStyle))},hide:function(e){TouchHandler.touchup(e);var el=this,ripple=(1.4*el.clientWidth,null),ripples=el.getElementsByClassName("waves-ripple");if(!(ripples.length>0))return!1;ripple=ripples[ripples.length-1];var relativeX=ripple.getAttribute("data-x"),relativeY=ripple.getAttribute("data-y"),scale=ripple.getAttribute("data-scale"),diff=Date.now()-Number(ripple.getAttribute("data-hold")),delay=350-diff;0>delay&&(delay=0),setTimeout(function(){var style={top:relativeY+"px",left:relativeX+"px",opacity:"0","-webkit-transition-duration":Effect.duration+"ms","-moz-transition-duration":Effect.duration+"ms","-o-transition-duration":Effect.duration+"ms","transition-duration":Effect.duration+"ms","-webkit-transform":scale,"-moz-transform":scale,"-ms-transform":scale,"-o-transform":scale,transform:scale};ripple.setAttribute("style",convertStyle(style)),setTimeout(function(){try{el.removeChild(ripple)}catch(e){return!1}},Effect.duration)},delay)},wrapInput:function(elements){for(var a=0;a<elements.length;a++){var el=elements[a];if("input"===el.tagName.toLowerCase()){var parent=el.parentNode;if("i"===parent.tagName.toLowerCase()&&-1!==parent.className.indexOf("waves-effect"))continue;var wrapper=document.createElement("i");wrapper.className=el.className+" waves-input-wrapper";var elementStyle=el.getAttribute("style");elementStyle||(elementStyle=""),wrapper.setAttribute("style",elementStyle),el.className="waves-button-input",el.removeAttribute("style"),parent.replaceChild(wrapper,el),wrapper.appendChild(el)}}}},TouchHandler={touches:0,allowEvent:function(e){var allow=!0;return"touchstart"===e.type?TouchHandler.touches+=1:"touchend"===e.type||"touchcancel"===e.type?setTimeout(function(){TouchHandler.touches>0&&(TouchHandler.touches-=1)},500):"mousedown"===e.type&&TouchHandler.touches>0&&(allow=!1),allow},touchup:function(e){TouchHandler.allowEvent(e)}};Waves.displayEffect=function(options){options=options||{},"duration"in options&&(Effect.duration=options.duration),Effect.wrapInput($$(".waves-effect")),"ontouchstart"in window&&document.body.addEventListener("touchstart",showEffect,!1),document.body.addEventListener("mousedown",showEffect,!1)},Waves.attach=function(element){"input"===element.tagName.toLowerCase()&&(Effect.wrapInput([element]),element=element.parentElement),"ontouchstart"in window&&element.addEventListener("touchstart",showEffect,!1),element.addEventListener("mousedown",showEffect,!1)},window.Waves=Waves}(window);