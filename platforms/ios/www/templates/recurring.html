<ion-view>
    <ion-content class="has-header  recurring ionic">
        <div class="hero has-mask" ng-style="{'background-image':'url(./img/'+backgroundImage+')'}" on-swipe-left="showNext()">
            <div class="content">
                <div class="avatar" ng-style="{'background-image':'url(./img/'+iconImage+')'}"></div>
                <h3><a class="light">{{ currentTransaction.merchant }}</a></h3>
                <h4>{{ currentTransaction.categorization }}</h4>
            </div>
        </div>

        <div class="spending-bar">
            You spent <span class="amount">$ {{ yearlySpending / 10000 *-1| number:0}}</span> in the last <span class="timerange">12 months</span>
        </div>

        <div class="content">
            <ion-toggle ng-model="isRecurring">This is a recurring expense</ion-toggle>
        </div>
        <div class="is-recurring content padding" ng-show="isRecurring" ng-cloak>
            <!-- Frequency select -->
            <div class="frequency-container" name="frequency-container">
                <span>I go there</span>
                <select>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option selected>5</option>
                </select>

                <span>time(s) per</span>

                <select>
                    <option selected>Week</option>
                    <option>Month</option>
                    <option>Year</option>
                </select>
            </div>

            <!-- Time interval radio options -->
            <div class="row">
                <div class="col col50">
                </div>
                <div class="col col50">
                    <a class="button button-block button-positive" href="#" ng-click="showSavings()">Calculate</a>
                </div>
            </div>
        </div>

        <div class="is-recurring content padding" ng-show="!isRecurring">
            <h3>Similar</h3>
            <ion-spinner icon="spiral" ng-show="loadingSimilar"></ion-spinner>
            <div class="list" id="similarTransactionListContainer" ng-show="!loadingSimilar">
                <a class="item" ng-repeat="transaction in similarTransactions">
                    {{transaction.merchant}}: ${{transaction.amount / -10000 | number:2}}
                </a>
            </div>
    </ion-content>
</ion-view>
